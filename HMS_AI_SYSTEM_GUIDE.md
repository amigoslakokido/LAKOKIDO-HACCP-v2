# ูุธุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู HMS - AI Analytics System

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ / Overview

ุชู ุชุทููุฑ ูุธุงู ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏู ููุชูุงูู ููุดุฑูุน HMS ูููุฑ:
- ุชุญููู ุฐูู ุชููุงุฆู ูุฌููุน ุฃูุณุงู HMS
- ุงูุชุดุงู ุงููุดุงูู ูุงููุฎุงุทุฑ ุงููุญุชููุฉ
- ุงูุชุฑุงุญุงุช ุญููู ุฐููุฉ ููุฎุตุตุฉ
- ุชูููุฏ ุชูุงุฑูุฑ ุดุงููุฉ ุชููุงุฆูุงู
- ุฑุคู ูุชูุตูุงุช ุงุณุชุจุงููุฉ
- ุชูุงูู ูุน OpenAI API ููุชุญููู ุงููุชูุฏู

## ๐ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ / Key Features

### 1. ุงูุชุญููู ุงูุฐูู / Smart Analysis
- **ุชุญููู ุชููุงุฆู**: ูููู ุงููุธุงู ุจุชุญููู ุงูุจูุงูุงุช ูู ุฌููุน ุฃูุณุงู HMS ุชููุงุฆูุงู
- **ุงูุชุดุงู ุงููุดุงูู**: ููุชุดู ุงููุดุงูู ุงููุญุชููุฉ ูุงููุฎุงุทุฑ ูุจู ุชูุงูููุง
- **ุชูููู ุงูุฎุทูุฑุฉ**: ูุตูู ุงููุดุงูู ุญุณุจ ูุณุชูู ุงูุฎุทูุฑุฉ (ููุฎูุถุ ูุชูุณุทุ ุนุงููุ ุญุฑุฌ)
- **ุญุณุงุจ ุงููุฎุงุทุฑ**: ูุนุทู score ูู 0-100 ููู ูุดููุฉ ููุชุดูุฉ

### 2. ุงูุญููู ุงูููุชุฑุญุฉ / Suggested Solutions
- **ุญููู ุฐููุฉ**: ููุชุฑุญ ุญูููุงู ุนูููุฉ ููู ูุดููุฉ ููุชุดูุฉ
- **ุฃููููุงุช ูุงุถุญุฉ**: ูุฑุชุจ ุงูุญููู ุญุณุจ ุงูุฃูููุฉ ูุงูุฅูุญุงุญ
- **ุฎุทุท ุนูู**: ูููุฑ ุฎุทูุงุช ูุญุฏุฏุฉ ูุชูููุฐ ุงูุญููู

### 3. ุงูุชูุงุฑูุฑ ุงูุชููุงุฆูุฉ / Automated Reports
- **ุชูููุฏ ุชููุงุฆู**: ูููุฏ ุชูุงุฑูุฑ ุดุงููุฉ ูุฌููุน ุงูุฃูุณุงู
- **ุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ**: ูููุฑ ุฅุญุตุงุฆูุงุช ูุฃุฑูุงู ุฏูููุฉ
- **ุฏุฑุฌุฉ ุงูุงูุชุซุงู**: ูุญุณุจ ูุณุจุฉ ุงูุงูุชุซุงู ูููุนุงููุฑ (0-100%)
- **PDF ุฌุงูุฒ**: ูููู ุชูุฒูู ุงูุชูุงุฑูุฑ ููููุงุช PDF ููุณูุฉ ุจุดูู ุงุญุชุฑุงูู

### 4. ุงูุฑุคู ูุงูุชูุตูุงุช / Insights & Recommendations
- **ุฑุคู ุงุณุชุจุงููุฉ**: ูููุฑ ุฑุคู ูุจู ูููุน ุงููุดุงูู
- **ุชูุตูุงุช ูุญุฏุฏุฉ**: ุชูุตูุงุช ูุงุจูุฉ ููุชูููุฐ ูุจุงุดุฑุฉ
- **ูุชุงุจุนุฉ ูุณุชูุฑุฉ**: ูุชุชุจุน ุญุงูุฉ ุงูุชูุตูุงุช ูุงูุชุญุณููุงุช

## ๐ ุงูุฃูุณุงู ุงููุฏุนููุฉ / Supported Sections

ุงููุธุงู ูุฏุนู ุงูุชุญููู ุงูุฐูู ูุฌููุน ุฃูุณุงู HMS:

1. **Risikovurdering** (Risk Assessment)
   - ูุญูู ุงูุฑุณูููุงุช ุงูููุฌูุฏุฉ
   - ููุชุดู ุงููุฎุงุทุฑ ุงูุนุงููุฉ ูุงูุญุฑุฌุฉ
   - ููุชุฑุญ ุฅุฌุฑุงุกุงุช ููุงุฆูุฉ

2. **Fรธrstehjelp** (First Aid)
   - ูุชุญูู ูู ูุฌูุฏ ูุณุคูู ุฅุณุนุงูุงุช ุฃูููุฉ
   - ูุฑุงูุจ ุญุงูุฉ ุงููุนุฏุงุช
   - ูุชุฃูุฏ ูู ุงูููุงุกุฉ ุงูุชุดุบูููุฉ

3. **Brannsikkerhet** (Fire Safety)
   - ููุญุต ูุนุฏุงุช ุงูุฅุทูุงุก
   - ูุชุชุจุน ุฌุฏุงูู ุงูุตูุงูุฉ
   - ูุญูู ูุชุงุฆุฌ ุงููุญูุตุงุช

4. **Arbeidsmiljรธ** (Work Environment)
   - ูููู ุจูุฆุฉ ุงูุนูู
   - ููุชุดู ูุดุงูู ุงูุตุญุฉ ูุงูุณูุงูุฉ
   - ููุชุฑุญ ุชุญุณููุงุช

## ๐ง ููููุฉ ุงูุงุณุชุฎุฏุงู / How to Use

### ุงูุฎุทูุฉ 1: ุชูุนูู ุงููุธุงู

1. ุงูุชุญ ูุดุฑูุน HMS
2. ุงูุชูู ุฅูู: **Dashboard โ AI Analytics**
3. ุงุถุบุท ุนูู ุฒุฑ **"Innstillinger"** (Settings)

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ OpenAI (ุงุฎุชูุงุฑู ูููู ููุตู ุจู)

ููุญุตูู ุนูู ุฃูุถู ูุชุงุฆุฌ:

1. ุณุฌู ูู [OpenAI Platform](https://platform.openai.com/)
2. ุฃูุดุฆ API Key ูู [API Keys Page](https://platform.openai.com/api-keys)
3. ุงูุณุฎ ุงูู API Key
4. ูู ุงูุฅุนุฏุงุฏุงุชุ ุฃูุตู API Key ูู ุญูู "OpenAI API Key"
5. ุงุฎุชุฑ ุงููููุฐุฌ:
   - **GPT-4o Mini**: ููุตู ุจู (ุณุฑูุน ูุฑุฎูุต)
   - **GPT-4o**: ุฃูุถู ุฌูุฏุฉ (ุฃุบูู ููููุงู)
   - **GPT-3.5 Turbo**: ุงูุชุตุงุฏู

**ููุงุญุธุฉ**: ุฅุฐุง ูู ุชุถุน API Keyุ ุณูุนูู ุงููุธุงู ุจุชุญููู ูุญูู ุจุณูุท (ูุธุงุฆู ูุญุฏูุฏุฉ)

### ุงูุฎุทูุฉ 3: ุชูุนูู ุงููุธุงู

1. ูู ุงูุฅุนุฏุงุฏุงุชุ ูุนูู "Aktiver AI-system"
2. ููููู ุชูุนูู "Auto-generer rapporter" ูุชูููุฏ ุงูุชูุงุฑูุฑ ุชููุงุฆูุงู
3. ุงุฎุชุฑ ุนูู ุงูุชุญููู: **Omfattende** (ุดุงูู) ููุญุตูู ุนูู ุฃูุถู ูุชุงุฆุฌ
4. ุงุญูุธ ุงูุฅุนุฏุงุฏุงุช

### ุงูุฎุทูุฉ 4: ุงุณุชุฎุฏุงู ุงูููุฒุงุช

#### ุชุญููู ุฌููุน ุงูุฃูุณุงู:
```
ุงุถุบุท ุนูู "Analyser alle seksjoner"
```
ุณูููู ุงููุธุงู ุจู:
- ุชุญููู ุฌููุน ุจูุงูุงุช HMS
- ุงูุชุดุงู ุงููุดุงูู ูู ูู ูุณู
- ุญุณุงุจ ูุณุชููุงุช ุงููุฎุงุทุฑ
- ุงูุชุฑุงุญ ุงูุญููู

#### ุชูููุฏ ุงูุชูุงุฑูุฑ:
```
ุงุถุบุท ุนูู "Generer alle rapporter"
```
ุณูููู ุงููุธุงู ุจู:
- ุฅูุดุงุก ุชูุฑูุฑ ุดุงูู ููู ูุณู
- ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช
- ุชุญุฏูุฏ ุงูููุงุท ุงูุญุฑุฌุฉ
- ุชูุฏูู ุงูุชูุตูุงุช

#### ุชูุฒูู ุงูุชูุงุฑูุฑ:
```
ูู ุชุจููุจ "Rapporter"ุ ุงุถุบุท ุนูู ุฃููููุฉ ุงูุชูุฒูู
```
ุณูุชู ุชูุฒูู PDF ููุณู ุจุดูู ุงุญุชุฑุงูู ูุญุชูู ุนูู:
- ุนููุงู ูุงุถุญ
- ููุฎุต ุชูููุฐู
- ุฅุญุตุงุฆูุงุช ููุตูุฉ
- ุชูุตูุงุช ูุงุจูุฉ ููุชูููุฐ

## ๐ฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู / User Interface

### Dashboard ุงูุฑุฆูุณู

ูุนุฑุถ 4 ุจุทุงูุงุช ุฅุญุตุงุฆูุฉ:
- **Totale analyser**: ุฅุฌูุงูู ุงูุชุญูููุงุช ุงููููุฐุฉ
- **Kritiske funn**: ุนุฏุฏ ุงููุชุงุฆุฌ ุงูุญุฑุฌุฉ
- **Etterlevelse**: ูุณุจุฉ ุงูุงูุชุซุงู (%)
- **Genererte rapporter**: ุนุฏุฏ ุงูุชูุงุฑูุฑ ุงููููุฏุฉ

### ุงูุฃูุณุงู ุงูุซูุงุซุฉ:

1. **Rapporter** (ุงูุชูุงุฑูุฑ)
   - ูุงุฆูุฉ ุจุฌููุน ุงูุชูุงุฑูุฑ ุงููููุฏุฉ
   - ุฅููุงููุฉ ุชูุฒูู PDF
   - ุญุฐู ุงูุชูุงุฑูุฑ ุงููุฏููุฉ
   - ุนุฑุถ ุงูุชูุตูุงุช ุงูุฑุฆูุณูุฉ

2. **Analyser** (ุงูุชุญูููุงุช)
   - ุนุฑุถ ุฌููุน ุงูุชุญูููุงุช ุงููููุฐุฉ
   - ุชุตููู ุญุณุจ ูุณุชูู ุงูุฎุทูุฑุฉ
   - ุงููุดุงูู ุงูููุชุดูุฉ
   - ุงูุญููู ุงูููุชุฑุญุฉ
   - ุฏุฑุฌุฉ ุงููุฎุงุทุฑ

3. **Innsikter** (ุงูุฑุคู)
   - ุฑุคู ุฐููุฉ ูุชูุตูุงุช
   - ูุณุชูู ุงูุชุฃุซูุฑ
   - ุฎุทูุงุช ุงูุนูู ุงูููุชุฑุญุฉ
   - ุฅููุงููุฉ ุชูููุฒ ูู "ููุฑูุก"

## ๐จ ููู ูุนูู ุงููุธุงู / How It Works

### ูุน OpenAI API:

1. **ุฌูุน ุงูุจูุงูุงุช**: ูุฌูุน ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. **ุจูุงุก ุงูุณูุงู**: ููุดุฆ prompt ุฐูู ุจุงููุฑููุฌูุฉ
3. **ุงุณุชุฏุนุงุก AI**: ูุฑุณู ุงูุจูุงูุงุช ูู OpenAI
4. **ุชุญููู ูุชูุฏู**: GPT ูุญูู ุงูุจูุงูุงุช ูููุชุดู ุงูุฃููุงุท
5. **ุงุณุชุฎุฑุงุฌ ุงููุชุงุฆุฌ**: ูุณุชุฎุฑุฌ ุงููุดุงูู ูุงูุญููู
6. **ุงูุชุฎุฒูู**: ูุญูุธ ุงููุชุงุฆุฌ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุจุฏูู OpenAI API (Local Analysis):

1. **ุฌูุน ุงูุจูุงูุงุช**: ูุฌูุน ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. **ุชุญููู ูุญูู**: ูุทุจู ููุงุนุฏ ุจุฑูุฌูุฉ ูุญุฏุฏุฉ ูุณุจูุงู
3. **ุงูุชุดุงู ุงููุดุงูู**: ูุจุญุซ ุนู ูุดุงูู ุดุงุฆุนุฉ ูุนุฑููุฉ
4. **ุญุณุงุจ ุงููุฎุงุทุฑ**: ูุญุณุจ ุฏุฑุฌุงุช ุงููุฎุงุทุฑ
5. **ุงูุชุฎุฒูู**: ูุญูุธ ุงููุชุงุฆุฌ

**ููุงุญุธุฉ**: ุงูุชุญููู ุงููุญูู ูุญุฏูุฏ ููุง ูููุฑ ููุณ ุงูุนูู ูุงูุฐูุงุก ูุซู ุงุณุชุฎุฏุงู OpenAI API.

## ๐พ ูุงุนุฏุฉ ุงูุจูุงูุงุช / Database Schema

ุงููุธุงู ูุณุชุฎุฏู 4 ุฌุฏุงูู:

### 1. `hms_ai_config`
ุชุฎุฒูู ุงูุฅุนุฏุงุฏุงุช:
- OpenAI API Key
- ูููุฐุฌ AI ุงููุณุชุฎุฏู
- ุชุฑุฏุฏ ุงูุชุญููู
- ุญุงูุฉ ุงูุชูุนูู

### 2. `hms_ai_analysis`
ูุชุงุฆุฌ ุงูุชุญููู:
- ุงุณู ุงููุณู
- ูุณุชูู ุงูุฎุทูุฑุฉ
- ุงููุดุงูู ุงูููุชุดูุฉ
- ุงูุญููู ุงูููุชุฑุญุฉ
- ุฏุฑุฌุฉ ุงููุฎุงุทุฑ

### 3. `hms_ai_reports`
ุงูุชูุงุฑูุฑ ุงููููุฏุฉ:
- ููุน ุงูุชูุฑูุฑ
- ุงูููุฎุต
- ุงูุฅุญุตุงุฆูุงุช
- ุงูุชูุตูุงุช
- ุฏุฑุฌุฉ ุงูุงูุชุซุงู

### 4. `hms_ai_insights`
ุงูุฑุคู ูุงูุชูุตูุงุช:
- ููุน ุงูุฑุคูุฉ
- ูุณุชูู ุงูุชุฃุซูุฑ
- ุฎุทูุงุช ุงูุนูู
- ุงูุญุงูุฉ

## ๐ ุงูุฃูุงู / Security

- ุฌููุน ุงูุฌุฏุงูู ูุญููุฉ ุจู RLS (Row Level Security)
- API Key ูุดูุฑ ูููุฎุฒู ุจุดูู ุขูู
- ุงูุจูุงูุงุช ูุง ุชูุฑุณู ูู OpenAI ุฅูุง ุนูุฏ ุงูุถุฑูุฑุฉ
- ูููู ุญุฐู ุงูุจูุงูุงุช ูู ุฃู ููุช

## ๐ Edge Function

ุชู ุฅูุดุงุก Edge Function ุจุงุณู `hms-ai-analyzer`:

**ุงููุธุงุฆู**:
1. `analyze`: ุชุญููู ูุณู ูุนูู
2. `generate_report`: ุชูููุฏ ุชูุฑูุฑ
3. `get_insights`: ุงูุญุตูู ุนูู ุงูุฑุคู

**ุงููููุน**:
```
/functions/v1/hms-ai-analyzer
```

## ๐ ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู / Usage Examples

### ูุซุงู 1: ุงูุชุดุงู ูุดููุฉ ูู ูุนุฏุงุช ุงูุฅุทูุงุก

**ุงูุฅุฏุฎุงู**: ุจูุงูุงุช ูุนุฏุงุช ุจุฑุงูุณููkerhet ูุน ุฌูุงุฒ ูุงุญุฏ ูุนุทู

**ุงููุชูุฌุฉ**:
```
Severity: High
ุงููุดููุฉ: "1 enheter brannsikkerhetsutstyr trenger service"
ุงูุญู: "Planlegg umiddelbar service eller utskifting av defekt utstyr"
Risk Score: 20
```

### ูุซุงู 2: ุนุฏู ูุฌูุฏ ูุณุคูู ุฅุณุนุงูุงุช ุฃูููุฉ

**ุงูุฅุฏุฎุงู**: ุจูุงูุงุช Fรธrstehjelp ุจุฏูู ูุณุคูู ูุณุฌู

**ุงููุชูุฌุฉ**:
```
Severity: High
ุงููุดููุฉ: "Ingen fรธrstehjelpsansvarlig registrert"
ุงูุญู: "Utpek og opplรฆr fรธrstehjelpsansvarlig umiddelbart"
Risk Score: 30
```

### ูุซุงู 3: ุชูุฑูุฑ ุดุงูู ููุณู Risikovurdering

**ุงููุชูุฌุฉ**:
```
Title: "Risk Assessment - Omfattende Rapport"
Compliance Score: 85%
Critical Findings: 2
Warnings: 5
Recommendations:
  1. "Prioriter umiddelbare tiltak for hรธy-risiko omrรฅder"
  2. "Tildel ansvarlige og sett frister"
  3. "Gjennomfรธr mรฅnedlige oppfรธlginger"
```

## ๐ ูุตุงุฆุญ ููุญุตูู ุนูู ุฃูุถู ุงููุชุงุฆุฌ

1. **ุงุณุชุฎุฏู OpenAI API**: ููุญุตูู ุนูู ุชุญููู ุฐูู ุญูููู
2. **ุณุฌูู ุจูุงูุงุช ุฏูููุฉ**: ูููุง ูุงูุช ุงูุจูุงูุงุช ุฃูุถูุ ูุงู ุงูุชุญููู ุฃุฏู
3. **ุฑุงุฌุน ุงูุชูุงุฑูุฑ ุจุงูุชุธุงู**: ุงุณุชุฎุฏู "Analyser alle seksjoner" ุฃุณุจูุนูุงู
4. **ุชุงุจุน ุงูุชูุตูุงุช**: ูููุฐ ุงูุญููู ุงูููุชุฑุญุฉ
5. **ุงุญูุธ ุงูุชูุงุฑูุฑ**: ูู ุจุชูุฒูู PDF ููุฃุฑุดูุฉ ูุงููุฑุงุฌุนุฉ

## ๐ ุงูุฏุนู / Support

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุชุฃูุฏ ูู ุชูุนูู ุงููุธุงู ูู ุงูุฅุนุฏุงุฏุงุช
2. ุชุญูู ูู ุตุญุฉ OpenAI API Key
3. ุฑุงุฌุน ุณุฌูุงุช ุงููุชุตูุญ (Console) ููุฃุฎุทุงุก
4. ุชุฃูุฏ ูู ูุฌูุฏ ุจูุงูุงุช ูุงููุฉ ูู ุงูุฃูุณุงู

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู / Future Development

ุงูููุฒุงุช ุงููุฎุทุท ููุง:
- ุชุญููู ุชููุงุฆู ูุฌุฏูู (ูููู/ุฃุณุจูุนู)
- ุฅุดุนุงุฑุงุช ุนูุฏ ุงูุชุดุงู ูุดุงูู ุญุฑุฌุฉ
- ุชูุงูู ูุน ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงููุญูู
- ุชุตุฏูุฑ ุงูุจูุงูุงุช ูุงูุชุญูููุงุช
- ููุญุงุช ุชุญูู ุชูุงุนููุฉ ุฃูุซุฑ ุชูุฏูุงู

---

**ุชู ุฅูุดุงุก ูุฐุง ุงููุธุงู ุจุชูุงูู ูุงูู ูุน ูุดุฑูุน HMS ูุฌููุน ุฃูุณุงูู. ุงุณุชูุชุน ุจุงุณุชุฎุฏุงู ุงูุชุญููู ุงูุฐูู! ๐**
